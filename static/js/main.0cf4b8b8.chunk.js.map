{"version":3,"sources":["components/custom-widgets/file-widget/CustomFileWidget.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["window","Android","CustomFileWidget","props","schema","id","className","title","type","onClick","pickVideo","App","useState","setSchema","setUiSchema","data","setData","widgets","file","useEffect","addEventListener","e","console","log","JSON","stringify","detail","parse","removeEventListener","style","padding","schemaJson","uiSchema","schemaUi","formData","onChange","v","onSubmit","stringData","setFormData","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gpBAIAA,OAAOC,QAAUD,OAAOC,SAAW,GAEnC,IAuDeC,EAvDU,SAACC,GACtB,IAAOC,EAAeD,EAAfC,OAAeD,EAAPE,GAmCf,OACI,gCACI,uBAAOC,UAAW,aAAlB,gBAAiCF,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAQG,QACzC,uBACA,uBAEIC,KAAK,OACLC,QAbQ,WACZ,YAAaT,QACbA,OAAOC,QAAQS,mB,kCC3B3BV,OAAOC,QAAUD,OAAOC,SAAW,GAqEpBU,MAlEf,WACI,MAA4BC,mBAAS,IAArC,mBAAeC,GAAf,WACA,EAAgCD,mBAAS,IAAzC,mBAAiBE,GAAjB,WACA,EAAwBF,mBAAS,IAAjC,mBAAOG,EAAP,KAAaC,EAAb,KAEMC,EAAU,CACZC,KAAMhB,GA+CV,OA5CAiB,qBAAU,WAqBN,OAnBAnB,OAAOoB,iBAAiB,sBAAsB,SAACC,GACvCC,QAAQC,IAAIC,KAAKC,UAAUJ,EAAEK,SAC7Bb,EAAUW,KAAKG,MAAMN,EAAEK,YAI/B1B,OAAOoB,iBAAiB,oBAAoB,SAACC,GACrCC,QAAQC,IAAIC,KAAKC,UAAUJ,EAAEK,SAC7BZ,EAAYU,KAAKG,MAAMN,EAAEK,YAKjC1B,OAAOoB,iBAAiB,sBAAsB,SAACC,GACvCC,QAAQC,IAAIC,KAAKC,UAAUJ,EAAEK,SAC7BV,EAAQQ,KAAKG,MAAMN,EAAEK,YAItB,WAEH1B,OAAO4B,oBAAoB,sBAAsB,SAAAP,GAAC,OAAIC,QAAQC,IAAI,uBAAwBF,EAAEK,WAE5F1B,OAAO4B,oBAAoB,oBAAoB,SAAAP,GAAC,OAAIC,QAAQC,IAAI,uBAAwBF,EAAEK,WAE1F1B,OAAO4B,oBAAoB,sBAAsB,SAAAP,GAAC,OAAIC,QAAQC,IAAI,uBAAwBF,EAAEK,cAEjG,IAgBC,qBAAKG,MAAO,CAACC,QAAS,IAAtB,SACI,cAAC,IAAD,CAAM1B,OAAQ2B,EACRC,SAAUC,EACVC,SAAUnB,EACVE,QAASA,EACTkB,SAlBO,SAACC,GAClBpB,EAAQoB,EAAEF,WAkBAG,SAfO,SAAChB,GAClBL,EAAQK,EAAEa,UACV,IAAII,EAAad,KAAKC,UAAUJ,EAAEa,UAC9B,YAAalC,QACbA,OAAOC,QAAQsC,YAAYD,SCjDxBE,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.0cf4b8b8.chunk.js","sourcesContent":["import {Button} from '@material-ui/core'\r\nimport React, {useEffect, useState} from 'react'\r\nimport LinearProgressWithLabel from './LinearProgressWithLabel'\r\n\r\nwindow.Android = window.Android || {};\r\n\r\nconst CustomFileWidget = (props: any) => {\r\n    const {schema, id } = props;\r\n\r\n    // useEffect(() => {\r\n    //     props.onChange(formData)\r\n    // }, [formData])\r\n    //\r\n    // console.log(props)\r\n\r\n    const handleChange = (event: any) => {\r\n        const lFiles = [...event.target.files]\r\n        // setFiles(lFiles)\r\n        // if (\"Android\" in window) {\r\n        //     window.Android.showToast(test);\r\n        // }\r\n        // console.log(\"Files selected: \", file)\r\n        // var reader = new FileReader();\r\n        // reader.onload = function (event:any) {\r\n        //     // The file's text will be printed here\r\n        //     let blob = new Blob([new Uint8Array(event.target.result)], {type: file.type });\r\n        //     console.log(event.target.result)\r\n        //     console.log(blob)\r\n        // };\r\n        //\r\n        // reader.readAsDataURL(file);\r\n        // return (event: any) => {\r\n        //     setFormData(files)\r\n        // };\r\n    }\r\n\r\n    const handleClick = () => {\r\n        if (\"Android\" in window) {\r\n            window.Android.pickVideo();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <label className={\"form-label\"}>{schema?.title}</label>\r\n            <br/>\r\n            <input\r\n                // onChange={handleChange}\r\n                type=\"file\"\r\n                onClick={handleClick}\r\n            />\r\n            {/*{files.map((file: any, i: number) => {*/}\r\n            {/*    <div key={`${file.filename}_${i}`}>*/}\r\n            {/*        <p>{file.filename}</p>*/}\r\n            {/*        <LinearProgressWithLabel value={file.progress}/>*/}\r\n            {/*    </div>*/}\r\n            {/*})}*/}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CustomFileWidget\r\n","import React, {useEffect, useState} from 'react';\r\nimport Form from '@rjsf/bootstrap-4'\r\nimport CustomFileWidget from \"./components/custom-widgets/file-widget/CustomFileWidget\";\r\nimport './App.css';\r\nimport schemaJson from './schema.json'\r\nimport schemaUi from './ui.json'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\ndeclare global {\r\n    interface Window { Android: any; }\r\n}\r\nwindow.Android = window.Android || {};\r\n// const evt = new Event('android_event', {'bubbles':true, 'cancelable':false});\r\n\r\nfunction App() {\r\n    const [schema, setSchema] = useState({});\r\n    const [uiSchema, setUiSchema] = useState({});\r\n    const [data, setData] = useState({});\r\n\r\n    const widgets = {\r\n        file: CustomFileWidget\r\n    };\r\n\r\n    useEffect(() => {\r\n        // @ts-ignore\r\n        window.addEventListener('android_json_event', (e: any) => {\r\n                console.log(JSON.stringify(e.detail))\r\n                setSchema(JSON.parse(e.detail))\r\n            }\r\n        )\r\n        // @ts-ignore\r\n        window.addEventListener('android_ui_event', (e: any) => {\r\n                console.log(JSON.stringify(e.detail))\r\n                setUiSchema(JSON.parse(e.detail))\r\n            }\r\n        )\r\n\r\n        // @ts-ignore\r\n        window.addEventListener('android_data_event', (e: any) => {\r\n                console.log(JSON.stringify(e.detail))\r\n                setData(JSON.parse(e.detail))\r\n            }\r\n        )\r\n        // window.Android.listenersReady();\r\n        return () => {\r\n            // @ts-ignore\r\n            window.removeEventListener('android_json_event', e => console.log(\"Event inside webview\", e.detail));\r\n            // @ts-ignore\r\n            window.removeEventListener('android_ui_event', e => console.log(\"Event inside webview\", e.detail));\r\n            // @ts-ignore\r\n            window.removeEventListener('android_data_event', e => console.log(\"Event inside webview\", e.detail));\r\n        };\r\n    }, []);\r\n\r\n    // @ts-ignore\r\n    const handleChange = (v) => {\r\n        setData(v.formData)\r\n    };\r\n\r\n    const handleSubmit = (e: any) => {\r\n        setData(e.formData)\r\n        let stringData = JSON.stringify(e.formData)\r\n        if (\"Android\" in window) {\r\n            window.Android.setFormData(stringData);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div style={{padding: 15}}>\r\n            <Form schema={schemaJson as any}\r\n                  uiSchema={schemaUi}\r\n                  formData={data}\r\n                  widgets={widgets}\r\n                  onChange={handleChange}\r\n                  onSubmit={handleSubmit}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}